{% extends "employee/employee_base.html" %} {% load humanize %} {% block content %}
<style>
    /* M·ªü r·ªông container */
    .container {
        max-width: 1600px;
        margin: 0 auto;
        padding: 40px;
    }

    /* Header */
    .header_import {
        background-color: #f9fafb;
        padding: 20px;
        border-radius: 12px;
        margin-bottom: 15px;
    }

    .header_import h2 {
        font-size: 2rem;
        font-weight: 600;
        color: #3b82f6;
    }

    /* Khung n·ªôi dung */
    .table-container {
        background-color: #ffffff;
        border-radius: 12px;
        box-shadow: 0 4px 6px rgba(0, 0, 0, 0.1);
        border: 1px solid #d1d5db;
        padding: 30px;
    }

    /* B·∫£ng */
    .table {
        width: 100%;
        margin-top: 1rem;
        border: 1px solid #d1d5db;
        border-radius: 8px;
        overflow: hidden;
        background-color: #fff;
        font-size: 1rem;
    }

    .table th,
    .table td {
        padding: 1rem;
        text-align: center;
    }

    .table th {
        background-color: #f9fafb;
        font-weight: bold;
        color: #1f2937;
    }

    .table td {
        border-top: 1px solid #d1d5db;
    }

    /* Form elements */
    input[type='text'],
    select,
    textarea {
        width: 100%;
        padding: 15px;
        font-size: 1.2rem;
        border-radius: 8px;
        border: 1px solid #d1d5db;
        margin-bottom: 20px;
    }

    button,
    .bg-blue-600 {
        padding: 18px 30px;
        font-size: 1.3rem;
        border-radius: 8px;
    }

    /* Flex */
    .flex {
        display: flex;
        justify-content: space-between;
        gap: 20px;
    }

    /* Table column width */
    .table td,
    .table th {
        min-width: 180px;
    }
</style>

<div class="container px-6 py-4">
    <!-- HEADER -->
    <div class="header_import">
        <div class="flex justify-between items-center mb-6">
            <h2 class="text-xl font-semibold text-blue-700 flex items-center gap-2">
                <span class="text-2xl">üì•</span> Chi ti·∫øt phi·∫øu nh·∫≠p kho
            </h2>

            <a
                href="{% url 'inventory_import_pdf' order.id %}"
                class="bg-green-600 hover:bg-green-700 text-white px-4 py-2 rounded-lg shadow-lg transition"
            >
                Xu·∫•t PDF
            </a>
        </div>
    </div>

    <!-- MAIN CONTENT CARD -->
    <div class="table-container">
        <!-- Th√¥ng tin chi ti·∫øt -->
        <div class="details-container">
            <div class="section">
                <div>
                    <p><strong>M√£ phi·∫øu:</strong> #{{ order.id }}</p>
                    <p><strong>Nh√† cung c·∫•p:</strong> {{ order.supplier.sup_name }}</p>
                    <p><strong>Ng√†y nh·∫≠p:</strong> {{ order.import_date|date:"d/m/Y H:i" }}</p>
                    <p><strong>Nh√¢n vi√™n nh·∫≠p:</strong> {{ order.employee.emp_name }}</p>
                </div>
            </div>

            <!-- Ghi ch√∫ -->
            <div class="border-t pt-4 mb-4">
                <h3 class="text-md font-semibold mb-2">Ghi ch√∫ phi·∫øu nh·∫≠p</h3>
                <p>{{ order.note|default:"(Kh√¥ng c√≥ ghi ch√∫)" }}</p>
            </div>

            <!-- S·∫£n ph·∫©m -->
            <div class="overflow-x-auto mt-6">
                <table class="table">
                    <thead>
                        <tr>
                            <th class="py-3 px-4 text-left">S·∫£n ph·∫©m</th>
                            <th class="py-3 px-4 text-center">S·ªë l∆∞·ª£ng nh·∫≠p</th>
                            <th class="py-3 px-4 text-center">ƒê∆°n gi√°</th>
                            <th class="py-3 px-4 text-center">Th√†nh ti·ªÅn</th>
                        </tr>
                    </thead>
                    <tbody>
                        {% for item in items %}
                        <tr class="border-b hover:bg-gray-50 transition">
                            <td class="py-3 px-4">{{ item.product.product_name }}</td>
                            <td class="py-3 px-4 text-center">{{ item.quantity }}</td>
                            <td class="py-3 px-4 text-center">{{ item.unit_price }} ƒë</td>
                            <td class="py-3 px-4 text-center">{{ item.total_price }} ƒë</td>
                        </tr>
                        {% endfor %}
                    </tbody>
                </table>
            </div>

            <!-- T·ªïng ti·ªÅn -->
            <div class="flex justify-between mt-6">
                <p class="font-semibold">T·ªïng ti·ªÅn:</p>
                <p class="font-semibold">{{ order.total_amount }} ƒë</p>
            </div>
        </div>
    </div>
</div>

{% endblock %}
