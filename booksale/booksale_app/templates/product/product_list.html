{% extends "admin_base.html" %}
{% load static %}

{% block content %}

<div class="d-flex justify-content-between align-items-center mb-4">
  <h4 class="fw-bold">Quản lý sản phẩm</h4>
  <button class="btn btn-primary">
    <i class="fa fa-plus"></i> Tạo sản phẩm
  </button>
</div>

<div class="card shadow-sm">
  <div class="card-body">

    <!-- Thanh lọc và tìm kiếm -->
    <div class="d-flex mb-3">
      <button class="btn btn-outline-secondary me-2">
        <i class="fa fa-filter"></i> Thêm điều kiện lọc
      </button>
      <input type="text" class="form-control" placeholder="Tìm kiếm sản phẩm">
    </div>

    <!-- Bảng danh sách sản phẩm -->
    <table class="table align-middle table-hover">
      <thead class="table-light">
        <tr>
          <th style="width:100px;">ID</th>
          <th>Tên sản phẩm</th>
          <th>Danh mục</th>
          <th style="width:120px;">Hình ảnh</th>
          <th class="text-end">Số lượng</th>
          <th class="text-end">Giá tiền</th>
        </tr>
      </thead>
      <tbody>
        {% for p in products %}
        <tr>
          <!-- Cột ID -->
          <td class="fw-bold text-secondary">#{{ p.id }}</td>

          <!-- Cột Tên sản phẩm -->
          <td>{{ p.name }}</td>

          <!-- Cột Danh mục -->
          <td>{{ p.category }}</td>

          <!-- Cột Hình ảnh -->
          <td>
            {% if p.image %}
                <img src="{% static p.image %}" alt="{{ p.name }}"
                     style="width:140px; height:140px; object-fit:cover; border-radius:6px;">
            {% else %}
                <img src="{% static 'images/img.png' %}" alt="Ảnh minh họa"
                    style="width:140px; height:140px; object-fit:cover; border-radius:6px;">
            {% endif %}
          </td>

          <!-- Cột Số lượng -->
          <td class="text-end text-primary fw-bold">{{ p.quantity }}</td>

          <!-- Cột Giá -->
          <td class="text-end text-danger fw-bold">{{ p.price|floatformat:0 }} đ</td>
        </tr>
        {% empty %}
        <tr>
          <td colspan="6" class="text-center text-muted">Không có sản phẩm nào</td>
        </tr>
        {% endfor %}
      </tbody>
    </table>

    <!-- Phân trang -->
    <nav class="mt-3">
      <ul class="pagination justify-content-center">
        <li class="page-item disabled"><a class="page-link">‹</a></li>
        <li class="page-item active"><a class="page-link" href="#">1</a></li>
        <li class="page-item"><a class="page-link" href="#">2</a></li>
        <li class="page-item"><a class="page-link" href="#">3</a></li>
        <li class="page-item"><a class="page-link" href="#">›</a></li>
      </ul>
    </nav>

  </div>
</div>

{% endblock %}
